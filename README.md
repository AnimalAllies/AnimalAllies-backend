# AnimalAllies
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![.NET](https://img.shields.io/badge/.NET-8.0-blue.svg)](https://dotnet.microsoft.com/)

AnimalAllies - платформа волонтёрской помощи животным, где оказывается ряд услуг: материальная помощь нуждающимся животным, поиск пропавших питомцев, оставление животного на временное на попечительство в виду отъезда и т.д.

<details><summary><h2>Скриншоты</h2></summary>
`Будут добавлены, когда будет готова фронтенд часть платформы`
</details>

## Возможности backend`а:
- [x] Аутентификация и авторизация на основе разрешений
- [x] Модуль управления животными и управления видами реализован по ddd
- [x] CRUD операции над всеми сущностями: волонтёр, питомец, порода, вид
- [x] Питомцы обладают позицией, которая отображает их очередность на помощь от волонтера. Позиция может быть изменена в зависимости от условий. 
- [x] Возможность обновления профиля пользователя, в качестве обычного клиента и в роли волонтёра
- [x] Мягкое и полное удаление некоторых сущностей
- [x] Хранение файлов (видео и фото) животных или аваторок пользователей в S3 хранилище, которое реализовано в видео отдельного сервиса
- [x] Манипуляции с S3 хранилищем реализованы через AWS SDK S3 и Minio
- [x] Для хранения файлов предусмотрена мультичастичная загрузка 
- [x] В модуле заявок на волонтёрство реализована следующая бизнес-логика по ddd:
  - [x] Подать заявку на волонтёрство, также проверяется наличие запрета на подачу через доменные события
  - [x] Взять заявку на рассмотрение админом (проверка пользователя закрепляется за ним)
  - [x] Одобрить заявку на волонтёрство, тогда через RabbiMQ будет отправлена команда на создание аккаунта волонтёра в модуле авторизации
  - [x] Отправка заявки админом на доработку с указанием проблемных мест
  - [x] Обновление заявки с последующей отправкой на дальнейшее рассмотрение
  - [x] Отклонить заявку на волонтёрство с указанием причины, после чего, через доменные события создастся запрет на подачу новых волонтёрских заявок сроком на неделю
- [x] В модуле дискуссий реализована следующая бизнес-логика по ddd:
  - [x] Когда админ берёт заявку на рассмотрение в модулей заявок на волонтерство, то в модуле дискуссий через контракты создаётся сущность дискуссии между админом и пользователем для обсуждения вопросов.
  - [x] Реализована функциональность, которая закрывает дискуссию для обоих участников
  - [x] Реализована функциональность, которая позволяет удалять пользователям свои сообщения в дискуссии
  - [x] Реализована функциональность, которая позволяет отправлять сообщений в дискуссии
  - [x] Реализована функциональность, которая позволяет обновлять пользователям свои сообщения в дискуссии
- [x] Реализованы разного вида запросы с пагинацией, фильтрацией и сортировкой. Для повышения производительности был использован CQRS. Для команд - ef core, для запросов - dapper 
- [x] Написаны юнит-тесты для всей бизнес-логики 
- [ ] Добавленно кэширование через Redis для повышения производительности запрос и улучшения пользовательского опыта
- [ ] Проект переведен на .NET 9
- [ ] Добавлены метрики через ElasticSearch, Kibana, Grafana
- [ ] Настроен CI/CD
- [ ] Написаны интеграционные тесты для все фич
- [ ] Реализован файловый сервис
- [ ] Реализован сервис уведомлений
- [ ] Реализован телеграм-бот
- [ ] Реализован сервис поиска пропавших животных через ML.NET

## Возможности Файлового сервиса:
- [x] Скачивание файлов через presigned url
- [x] Загрузка файлов через presigned url
- [x] Удаление файлов через presigned url
- [x] Получения мета-данных файлов из MongoDB
- [x] Мультичастичная загрузка для больших файлов
- [x] Проверка консистентности данных через Hangfire (запланированная задача смотри, сопоставляется ли записи из MongoDB наличие файла в S3 Minio)
- [ ] Реализован слой Communication для связи с другими сервисами
- [ ] Слой Communication добавлен в nu-get    


## Стек:
`в процессе написания`

## Установка и запуск

### Посредством Docker

`в процессе написания`

### Без использования Docker

`в процессе написания`

## Конфигурация

`в процессе написания`
